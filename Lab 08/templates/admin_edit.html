<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Course - Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<div class="container mt-5">
  <h2>Edit Course: {{ course.name }}</h2>

  <!-- Update course info -->
  <div class="mb-4">
    <label for="courseName" class="form-label">Course Name:</label>
    <input type="text" id="courseName" class="form-control" value="{{ course.name }}" data-course-id="{{ course.id }}">

    <label for="courseCapacity" class="form-label mt-2">Capacity:</label>
    <input type="number" id="courseCapacity" class="form-control" value="{{ course.capacity }}" data-course-id="{{ course.id }}">

    <button id="updateCourseName" class="btn btn-primary mt-2">Update Course Info</button>
  </div>

  <!-- Enrolled students -->
  <h3>Enrolled Students</h3>
  {% if course.enrollments %}
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Student ID</th>
        <th>Name</th>
        <th>Grade</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for enrollment in course.enrollments %}
      <tr data-enrollment-id="{{ enrollment.id }}">
        <td>{{ enrollment.student.id }}</td>
        <td>{{ enrollment.student.name }}</td>
        <td>
          <input type="text" class="form-control grade-input" value="{{ enrollment.grade }}">
        </td>
        <td>
          <button class="btn btn-success update-grade">Update Grade</button>
          <button class="btn btn-danger remove-student">Remove</button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>No students enrolled yet.</p>
  {% endif %}

  <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary mt-3">Back to Dashboard</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/admin.js') }}"></script>
</body>
</html>
